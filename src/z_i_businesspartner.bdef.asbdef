unmanaged implementation in class ZBP_BHV_BUSINESSPARTNER unique;

with draft;
define behavior for Z_I_BusinessPartner
draft table ZBP_D_BP
lock master total etag LastChangedAt
etag master LastChangedAt
{
  create(precheck);
  update;
  delete;

  association _Roles { create(precheck); }
  association _Address { create(precheck,  features : instance ); }
}

define behavior for Z_I_BP_ROLE alias Role
draft table ZBP_D_BP_ROLE

lock dependent by _BusinessPartner
etag dependent by _BusinessPartner


{
  update;
  delete;

  field ( readonly : update ) BusinessPartner;
    association _BusinessPartner;
}

define behavior for Z_I_BP_ADDRESS alias Address
implementation in class ZBP_BHV_BP_ADDRESS unique
draft table ZBP_D_BP_ADDRESS
late numbering
lock dependent by _BusinessPartner
etag dependent by _BusinessPartner

{
  update;
  delete;

  field ( readonly ) BusinessPartner;
  field ( mandatory ) PostCode2, Region, Country;
  association _BusinessPartner;
}